/*
 * Aria Templates 1.4.12 - 07 Nov 2013
 *
 * Copyright 2009-2013 Amadeus s.a.s.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *    http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
//***MULTI-PART
//*******************
//LOGICAL-PATH:aria/touch/Event.js
//*******************
Aria.classDefinition({$singleton:!0,$classpath:"aria.touch.Event",$constructor:function(){this.touchEventMap={touchstart:"touchstart",touchend:"touchend",touchmove:"touchmove"},this.touch=!0,this.__touchDetection()},$prototype:{__touchDetection:function(){this.touch="ontouchstart"in Aria.$frameworkWindow||Aria.$frameworkWindow.DocumentTouch&&Aria.$frameworkWindow.document instanceof Aria.$frameworkWindow.DocumentTouch,this.touch||(this.touchEventMap={touchstart:"mousedown",touchend:"mouseup",touchmove:"mousemove"}),Aria.$window.navigator.msPointerEnabled&&(this.touchEventMap={touchstart:"MSPointerDown",touchend:"MSPointerUp",touchmove:"MSPointerMove"})},getPositions:function(t){var e=[];if(t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0]){for(var i=0;t.touches.length>i;i++)e.push({x:t.touches[i].pageX?t.touches[i].pageX:t.touches[i].clientX,y:t.touches[i].pageY?t.touches[i].pageY:t.touches[i].clientY});if(t.type==this.touchEventMap.touchend)for(var i=0;t.changedTouches.length>i;i++)e.push({x:t.changedTouches[i].pageX?t.changedTouches[i].pageX:t.changedTouches[i].clientX,y:t.changedTouches[i].pageY?t.changedTouches[i].pageY:t.changedTouches[i].clientY})}else e.push({x:t.pageX?t.pageX:t.clientX,y:t.pageY?t.pageY:t.clientY});return e},getFingerIndex:function(t){var e=0;if(Aria.$window.navigator.msPointerEnabled)e=t.isPrimary?0:1;else if(t.touches||t.changedTouches)if(t.changedTouches.length>1)e=100+t.changedTouches.length;else if(t.type==this.touchEventMap.touchend)e=t.touches.length+t.changedTouches.length-1;else for(var i=t.changedTouches[0].pageX?t.changedTouches[0].pageX:t.changedTouches[0].clientX,s=t.changedTouches[0].pageY?t.changedTouches[0].pageY:t.changedTouches[0].clientY,a=0;t.touches.length>a;a++)if(i==(t.touches[a].pageX?t.touches[a].pageX:t.touches[a].clientX)&&s==(t.touches[a].pageY?t.touches[a].pageY:t.touches[a].clientY)){e=a;break}return e}}});
//*******************
//LOGICAL-PATH:aria/touch/Gesture.js
//*******************
Aria.classDefinition({$classpath:"aria.touch.Gesture",$dependencies:["aria.utils.Event","aria.utils.Delegate","aria.utils.AriaWindow","aria.touch.Event"],$statics:{NB_TOUCHES:1},$constructor:function(){this.body={},this.touchEventMap=aria.touch.Event.touchEventMap;var t=aria.utils.AriaWindow;t.$on({attachWindow:this._connectTouchEvents,detachWindow:this._disconnectTouchEvents,scope:this}),this.eventsAlreadyAttached=!1,t.isWindowUsed&&this._connectTouchEvents(),this.timerId=null,this.startData=null,this.currentData=null},$destructor:function(){aria.utils.AriaWindow.$unregisterListeners(this),this._disconnectTouchEvents(),this.body=null},$prototype:{_connectTouchEvents:function(){if(!this.eventsAlreadyAttached){this.body=Aria.$window.document.body;for(var t=this._getInitialListenersList(),e=0;t.length>e;e++)this._addListener(t[e].evt,t[e].cb);this.eventsAlreadyAttached=!0}},_disconnectTouchEvents:function(){for(var t=this._getInitialListenersList(),e=0;t.length>e;e++)this._removeListener(t[e].evt,t[e].cb);this.eventsAlreadyAttached=!1},_getInitialListenersList:function(){return[]},_getAdditionalListenersList:function(){return[]},_getFakeEventsMap:function(){return{}},_gestureStart:function(t,e){return this.__validateNbTouches(t)?(this._disconnectTouchEvents(),this.startData={positions:aria.touch.Event.getPositions(t),time:(new Date).getTime()},this.currentData=null,this._connectAdditionalTouchEvents(),this._getFakeEventsMap().start?this._raiseFakeEvent(t,this._getFakeEventsMap().start,e):null!=t.returnValue?t.returnValue:!t.defaultPrevented):null},_gestureMove:function(t,e){return this.__validateNbTouches(t)?(this.currentData={positions:aria.touch.Event.getPositions(t),time:(new Date).getTime()},this._getFakeEventsMap().move?this._raiseFakeEvent(t,this._getFakeEventsMap().move,e):null!=t.returnValue?t.returnValue:!t.defaultPrevented):null},_gestureEnd:function(t,e){return this.__validateNbTouches(t)?(this._disconnectAdditionalTouchEvents(),this._connectTouchEvents(),this.currentData={positions:aria.touch.Event.getPositions(t),time:(new Date).getTime()},this._getFakeEventsMap().end?this._raiseFakeEvent(t,this._getFakeEventsMap().end,e):null!=t.returnValue?t.returnValue:!t.defaultPrevented):null},_gestureCancel:function(t,e){return this._disconnectAdditionalTouchEvents(),this._connectTouchEvents(),this.currentData={positions:aria.touch.Event.getPositions(t),time:(new Date).getTime()},this._getFakeEventsMap().cancel?this._raiseFakeEvent(t,this._getFakeEventsMap().cancel,e):null!=t.returnValue?t.returnValue:!t.defaultPrevented},_connectAdditionalTouchEvents:function(){for(var t=this._getAdditionalListenersList(),e=0;t.length>e;e++)this._addListener(t[e].evt,t[e].cb)},_disconnectAdditionalTouchEvents:function(){for(var t=this._getAdditionalListenersList(),e=0;t.length>e;e++)this._removeListener(t[e].evt,t[e].cb)},_addListener:function(t,e){aria.utils.Event.addListener(this.body,t,e)},_removeListener:function(t,e){aria.utils.Event.removeListener(this.body,t,e)},_raiseFakeEvent:function(t,e,i){var s=t.target?t.target:t.srcElement,a=aria.DomEvent.getFakeEvent(e,s);t.returnValue||a.preventDefault(),t.cancelBubble&&a.stopPropagation(),a.pageX=t.pageX,a.pageY=t.pageY,a.clientX=t.clientX,a.clientY=t.clientY,a.touches=t.touches,a.changedTouches=t.changedTouches,a.isPrimary=t.isPrimary,this.startData&&this.startData.time&&(a.duration=(new Date).getTime()-this.startData.time),i||(i={}),i.startX=this.startData.positions[0].x,i.startY=this.startData.positions[0].y;var n=aria.touch.Event.getPositions(t);return i.currentX=n[0].x,i.currentY=n[0].y,a.detail=i,aria.utils.Delegate.delegate(a),t.cancelBubble=a.hasStopPropagation,t.returnValue=!a.hasPreventDefault,t.returnValue},_calculateDistance:function(t,e,i,s){return Math.sqrt(Math.pow(i-t,2)+Math.pow(s-e,2))},__validateNbTouches:function(t){var e=aria.touch.Event.getFingerIndex(t);return 1==this.NB_TOUCHES&&0===e||2==this.NB_TOUCHES&&e>=0}}});
//*******************
//LOGICAL-PATH:aria/touch/DoubleTap.js
//*******************
Aria.classDefinition({$singleton:!0,$classpath:"aria.touch.DoubleTap",$extends:"aria.touch.Gesture",$statics:{MARGIN:10,BETWEEN_DELAY:200},$prototype:{_getInitialListenersList:function(){return[{evt:this.touchEventMap.touchstart,cb:{fn:this._doubleTapStart,scope:this}}]},_getAdditionalListenersList:function(){return[{evt:this.touchEventMap.touchmove,cb:{fn:this._doubleTapMove,scope:this}},{evt:this.touchEventMap.touchend,cb:{fn:this._doubleTapEnd,scope:this}}]},_getFakeEventsMap:function(){return{doubletapstart:"doubletapstart",cancel:"doubletapcancel",finalize:"doubletap"}},_doubleTapStart:function(t){var e=this._gestureStart(t);return null==e?this.timerId?this._doubleTapCancel(t):null!=t.returnValue?t.returnValue:!t.defaultPrevented:this.timerId?(aria.core.Timer.cancelCallback(this.timerId),e):this._raiseFakeEvent(t,this._getFakeEventsMap().doubletapstart)},_doubleTapMove:function(t){var e=aria.touch.Event.getPositions(t);if(this.MARGIN>=this._calculateDistance(this.startData.positions[0].x,this.startData.positions[0].y,e[0].x,e[0].y)){var i=this._gestureMove(t);return null==i?this._doubleTapCancel(t):i}return this._doubleTapCancel(t)},_doubleTapEnd:function(t){var e=this._gestureEnd(t);return null==e?this._doubleTapCancel(t):this.timerId?(this.timerId=null,this._raiseFakeEvent(t,this._getFakeEventsMap().finalize)):(this.timerId=aria.core.Timer.addCallback({fn:this._doubleTapFinalCancel,scope:this,delay:this.BETWEEN_DELAY,args:t}),e)},_doubleTapCancel:function(t){return this.timerId&&(aria.core.Timer.cancelCallback(this.timerId),this.timerId=null),this._gestureCancel(t)},_doubleTapFinalCancel:function(t){return this.timerId&&(aria.core.Timer.cancelCallback(this.timerId),this.timerId=null),this._raiseFakeEvent(t,this._getFakeEventsMap().cancel)}}});
//*******************
//LOGICAL-PATH:aria/touch/Drag.js
//*******************
Aria.classDefinition({$singleton:!0,$classpath:"aria.touch.Drag",$extends:"aria.touch.Gesture",$prototype:{_getInitialListenersList:function(){return[{evt:this.touchEventMap.touchstart,cb:{fn:this._dragStart,scope:this}}]},_getAdditionalListenersList:function(){return[{evt:this.touchEventMap.touchmove,cb:{fn:this._dragMove,scope:this}},{evt:this.touchEventMap.touchend,cb:{fn:this._dragEnd,scope:this}}]},_getFakeEventsMap:function(){return{dragstart:"dragstart",dragmove:"dragmove",dragend:"drag",cancel:"dragcancel"}},_dragStart:function(t){var e=null!=this.currentData,i=this._gestureStart(t);return null==i&&e?(this.currentData={positions:aria.touch.Event.getPositions(t),time:(new Date).getTime()},this._raiseFakeEvent(t,this._getFakeEventsMap().cancel)):null==i?null!=t.returnValue?t.returnValue:!t.defaultPrevented:i},_dragMove:function(t){var e=null!=this.currentData,i=this._gestureMove(t);if(null!=i){var s=this._getFakeEventsMap().dragstart;return e&&(s=this._getFakeEventsMap().dragmove),this._raiseFakeEvent(t,s)}return this.currentData=null,e?this._gestureCancel(t):null!=t.returnValue?t.returnValue:!t.defaultPrevented},_dragEnd:function(t){var e=null!=this.currentData,i=this._gestureEnd(t);return e?null==i?null!=t.returnValue?t.returnValue:!t.defaultPrevented:this._raiseFakeEvent(t,this._getFakeEventsMap().dragend):null!=t.returnValue?t.returnValue:!t.defaultPrevented}}});
//*******************
//LOGICAL-PATH:aria/touch/LongPress.js
//*******************
Aria.classDefinition({$singleton:!0,$classpath:"aria.touch.LongPress",$extends:"aria.touch.Gesture",$statics:{MARGIN:10,PRESS_DURATION:1e3},$prototype:{_getInitialListenersList:function(){return[{evt:this.touchEventMap.touchstart,cb:{fn:this._longPressStart,scope:this}}]},_getAdditionalListenersList:function(){return[{evt:this.touchEventMap.touchmove,cb:{fn:this._longPressMove,scope:this}},{evt:this.touchEventMap.touchend,cb:{fn:this._longPressCancel,scope:this}}]},_getFakeEventsMap:function(){return{start:"longpressstart",cancel:"longpresscancel",finalize:"longpress"}},_longPressStart:function(t){var e=this._gestureStart(t);return null!=e?(this.timerId=aria.core.Timer.addCallback({fn:this._longPressFinalize,scope:this,delay:this.PRESS_DURATION,args:t}),e):this.timerId?this._longPressCancel(t):null!=t.returnValue?t.returnValue:!t.defaultPrevented},_longPressMove:function(t){var e=aria.touch.Event.getPositions(t);if(this.MARGIN>=this._calculateDistance(this.startData.positions[0].x,this.startData.positions[0].y,e[0].x,e[0].y)){var i=this._gestureMove(t);return null==i?this._longPressCancel(t):i}return this._longPressCancel(t)},_longPressCancel:function(t){return this.timerId&&(aria.core.Timer.cancelCallback(this.timerId),this.timerId=null),this._gestureCancel(t)},_longPressFinalize:function(t){this.timerId&&(aria.core.Timer.cancelCallback(this.timerId),this.timerId=null),this._gestureEnd(t),this._raiseFakeEvent(t,this._getFakeEventsMap().finalize)}}});
//*******************
//LOGICAL-PATH:aria/touch/Pinch.js
//*******************
Aria.classDefinition({$singleton:!0,$classpath:"aria.touch.Pinch",$extends:"aria.touch.Gesture",$statics:{NB_TOUCHES:2},$events:{pinchstart:"",pinchmove:"",pinchend:"",pinchcancel:""},$constructor:function(){this.$Gesture.constructor.call(this),this.lastKnownAngle=null,this.initialPinchData=null,this.primaryPoint=null,this.secondaryPoint=null},$prototype:{_getInitialListenersList:function(){return[{evt:this.touchEventMap.touchstart,cb:{fn:this._pinchStart,scope:this}}]},_getAdditionalListenersList:function(){return[{evt:this.touchEventMap.touchmove,cb:{fn:this._pinchMove,scope:this}},{evt:this.touchEventMap.touchend,cb:{fn:this._pinchEnd,scope:this}}]},_getFakeEventsMap:function(){return{start:"pinchstart",move:"pinchmove",end:"pinch",cancel:"pinchcancel"}},_pinchStart:function(t){if(t.touches&&t.touches.length>=2){var e=aria.touch.Event.getPositions(t);this.primaryPoint=e[0],this.secondaryPoint=e[1]}else t.isPrimary?this.primaryPoint=aria.touch.Event.getPositions(t)[0]:t.isPrimary!==void 0&&t.isPrimary===!1&&(this.secondaryPoint=aria.touch.Event.getPositions(t)[0]);if(t.touches&&t.touches.length>=2||t.isPrimary!==void 0&&t.isPrimary===!1){var i=this._calculateDistance(this.primaryPoint.x,this.primaryPoint.y,this.secondaryPoint.x,this.secondaryPoint.y),s=this.__calculateAngle(this.primaryPoint.x,this.primaryPoint.y,this.secondaryPoint.x,this.secondaryPoint.y);return this.initialPinchData={distance:i,dVariation:0,angle:s},this.lastKnownAngle=s,this.$raiseEvent({name:"pinchstart",distance:i,dVariation:0,angle:s,originalEvent:t}),this._gestureStart(t,this.initialPinchData)}return null!=t.returnValue?t.returnValue:!t.defaultPrevented},_pinchMove:function(t){if(t.touches&&t.touches.length>=2){var e=aria.touch.Event.getPositions(t);this.primaryPoint=e[0],this.secondaryPoint=e[1]}else{if(void 0===t.isPrimary)return this.$raiseEvent({name:"pinchcancel"}),this._gestureCancel(t);t.isPrimary?this.primaryPoint=aria.touch.Event.getPositions(t):this.secondaryPoint=aria.touch.Event.getPositions(t)}var i=this._calculateDistance(this.primaryPoint.x,this.primaryPoint.y,this.secondaryPoint.x,this.secondaryPoint.y),s=this.__calculateAngle(this.primaryPoint.x,this.primaryPoint.y,this.secondaryPoint.x,this.secondaryPoint.y);this.lastKnownAngle=s;var a={distance:i,dVariation:i-this.initialPinchData.distance,angle:s};return this.$raiseEvent({name:"pinchmove",distance:i,dVariation:i-this.initialPinchData.distance,angle:s,originalEvent:t}),this._gestureMove(t,a)},_pinchEnd:function(t){if(t.touches&&t.changedTouches&&(t.changedTouches.length||0)+(t.touches.length||0)>=2){var e=aria.touch.Event.getPositions(t);this.primaryPoint=e[0],this.secondaryPoint=e[1]}if(t.isPrimary!==void 0&&(t.isPrimary?this.primaryPoint=aria.touch.Event.getPositions(t):this.secondaryPoint=aria.touch.Event.getPositions(t)),t.touches&&t.changedTouches&&(t.changedTouches.length||0)+(t.touches.length||0)>=2||t.isPrimary!==void 0){var i=this._calculateDistance(this.primaryPoint.x,this.primaryPoint.y,this.secondaryPoint.x,this.secondaryPoint.y),s=this.__calculateAngle(this.primaryPoint.x,this.primaryPoint.y,this.secondaryPoint.x,this.secondaryPoint.y);Math.abs(s-this.lastKnownAngle)>150&&(s=this.__calculateAngle(this.secondaryPoint.x,this.secondaryPoint.y,this.primaryPoint.x,this.primaryPoint.y));var a={distance:i,dVariation:i-this.initialPinchData.distance,angle:s};return this.$raiseEvent({name:"pinchend",distance:i,dVariation:i-this.initialPinchData.distance,angle:s,originalEvent:t}),this._gestureEnd(t,a)}return this.$raiseEvent({name:"pinchcancel"}),this._gestureCancel(t)},__calculateAngle:function(t,e,i,s){return 180*Math.atan2(s-e,i-t)/Math.PI}}});
//*******************
//LOGICAL-PATH:aria/touch/SingleTap.js
//*******************
Aria.classDefinition({$singleton:!0,$classpath:"aria.touch.SingleTap",$extends:"aria.touch.Gesture",$statics:{MARGIN:10,FINAL_DELAY:250},$prototype:{_getInitialListenersList:function(){return[{evt:this.touchEventMap.touchstart,cb:{fn:this._singleTapStart,scope:this}}]},_getAdditionalListenersList:function(){return[{evt:this.touchEventMap.touchmove,cb:{fn:this._singleTapMove,scope:this}},{evt:this.touchEventMap.touchend,cb:{fn:this._singleTapEnd,scope:this}}]},_getFakeEventsMap:function(){return{start:"singletapstart",cancel:"singletapcancel",finalize:"singletap"}},_singleTapStart:function(t){if(this.timerId)return this._singleTapFinalCancel(t);var e=this._gestureStart(t);return null==e?null!=t.returnValue?t.returnValue:!t.defaultPrevented:e},_singleTapMove:function(t){var e=aria.touch.Event.getPositions(t);if(this.MARGIN>=this._calculateDistance(this.startData.positions[0].x,this.startData.positions[0].y,e[0].x,e[0].y)){var i=this._gestureMove(t);return null==i?this._singleTapCancel(t):i}return this._singleTapCancel(t)},_singleTapEnd:function(t){var e=this._gestureEnd(t);return null!=e?(this.timerId=aria.core.Timer.addCallback({fn:this._singleTapFinalize,scope:this,delay:this.FINAL_DELAY,args:t}),e):this._singleTapCancel(t)},_singleTapCancel:function(t){return this.timerId&&(aria.core.Timer.cancelCallback(this.timerId),this.timerId=null),this._gestureCancel(t)},_singleTapFinalize:function(t){this.timerId&&(aria.core.Timer.cancelCallback(this.timerId),this.timerId=null),this._raiseFakeEvent(t,this._getFakeEventsMap().finalize)},_singleTapFinalCancel:function(t){return this.timerId&&(aria.core.Timer.cancelCallback(this.timerId),this.timerId=null),this._raiseFakeEvent(t,this._getFakeEventsMap().cancel)}}});
//*******************
//LOGICAL-PATH:aria/touch/Swipe.js
//*******************
Aria.classDefinition({$singleton:!0,$classpath:"aria.touch.Swipe",$extends:"aria.touch.Gesture",$statics:{MARGIN:20},$events:{swipestart:"",swipemove:"",swipeend:"",swipecancel:""},$prototype:{_getInitialListenersList:function(){return[{evt:this.touchEventMap.touchstart,cb:{fn:this._swipeStart,scope:this}}]},_getAdditionalListenersList:function(){return[{evt:this.touchEventMap.touchmove,cb:{fn:this._swipeMove,scope:this}},{evt:this.touchEventMap.touchend,cb:{fn:this._swipeEnd,scope:this}}]},_getFakeEventsMap:function(){return{start:"swipestart",move:"swipemove",end:"swipe",cancel:"swipecancel"}},_swipeStart:function(t){var e=this._gestureStart(t);return null!=e?(this.$raiseEvent({name:"swipestart",startX:this.startData.positions[0].x,startY:this.startData.positions[0].y,originalEvent:t}),e):null!=t.returnValue?t.returnValue:!t.defaultPrevented},_swipeMove:function(t){var e=this._getRoute(this.startData.positions[0],aria.touch.Event.getPositions(t)[0]);if(e){var i=this._gestureMove(t,e);return null!=i?(this.$raiseEvent({name:"swipemove",route:e,originalEvent:t}),i):this._swipeCancel(t)}return this._swipeCancel(t)},_swipeEnd:function(t){var e=this._getRoute(this.startData.positions[0],aria.touch.Event.getPositions(t)[0]);if(e){var i=this._gestureEnd(t,e);return null!=i?(this.$raiseEvent({name:"swipeend",route:e,originalEvent:t}),i):this._swipeCancel(t)}return this._swipeCancel(t)},_swipeCancel:function(t){return this.$raiseEvent({name:"swipecancel"}),this._gestureCancel(t)},_getRoute:function(t,e){var i=e.x-t.x,s=e.y-t.y,a=Math.abs(i),n=Math.abs(s),r=n>a&&this.MARGIN>=a,o=a>n&&this.MARGIN>=n;return r?{direction:0>s?"up":"down",distance:n,startX:t.x,startY:t.y,endX:e.x,endY:e.y}:o?{direction:0>i?"left":"right",distance:a,startX:t.x,startY:t.y,endX:e.x,endY:e.y}:!1}}});
//*******************
//LOGICAL-PATH:aria/touch/Tap.js
//*******************
Aria.classDefinition({$singleton:!0,$classpath:"aria.touch.Tap",$extends:"aria.touch.Gesture",$statics:{MARGIN:10},$prototype:{_getInitialListenersList:function(){return[{evt:this.touchEventMap.touchstart,cb:{fn:this._tapStart,scope:this}}]},_getAdditionalListenersList:function(){return[{evt:this.touchEventMap.touchmove,cb:{fn:this._tapMove,scope:this}},{evt:this.touchEventMap.touchend,cb:{fn:this._tapEnd,scope:this}}]},_getFakeEventsMap:function(){return{start:"tapstart",end:"tap",cancel:"tapcancel"}},_tapStart:function(t){var e=this._gestureStart(t);return null==e?null!=t.returnValue?t.returnValue:!t.defaultPrevented:e},_tapMove:function(t){var e=aria.touch.Event.getPositions(t);if(this.MARGIN>=this._calculateDistance(this.startData.positions[0].x,this.startData.positions[0].y,e[0].x,e[0].y)){var i=this._gestureMove(t);return null==i?this._gestureCancel(t):i}return this._gestureCancel(t)},_tapEnd:function(t){var e=this._gestureEnd(t);return null==e?this._gestureCancel(t):null!=t.returnValue?t.returnValue:!t.defaultPrevented}}});
//*******************
//LOGICAL-PATH:aria/touch/widgets/ButtonCfg.js
//*******************
Aria.beanDefinitions({$package:"aria.touch.widgets.ButtonCfg",$namespaces:{json:"aria.core.JsonTypes",base:"aria.html.beans.ElementCfg",common:"aria.widgetLibs.CommonBeans"},$beans:{Properties:{$type:"base:Properties",$properties:{on:{$type:"base:Properties.$properties.on",$properties:{type:{$type:"common:Callback"}}},isLink:{$type:"json:Boolean",$default:!1},delay:{$type:"json:Integer"},tagName:{$type:"base:Properties.$properties.tagName"}}}}});
//*******************
//LOGICAL-PATH:aria/touch/widgets/ButtonCSS.tpl.css
//*******************
Aria.classDefinition({$classpath:"aria.touch.widgets.ButtonCSS",$extends:"aria.templates.CSSTemplate",$constructor:function(){this.$CSSTemplate.constructor.call(this)},$destructor:function(){this.$CSSTemplate.$destructor.call(this)},$prototype:{macro_main:function(){try{with(this)this.__$write("\n\n.appLink, .appButton {\nposition: relative;\ndisplay: block;\nfont:normal 700 15px/17px tahoma,arial,helvetica,sans-serif;\npadding: 0.6em 1em;\nborder-radius: 16px;\ntext-align: center;\ncursor: pointer;\n}\n.appLink {\nbackground-color:#5393C5;\nborder:solid 1px #6FA0C0;\ncolor:#fff;\n}\n\n.appLink.touchLibButtonPressed {\noutline: 0 none;\nbackground-color:#5393C5;\nbackground: -webkit-linear-gradient(#5393C5, #6FACD5) repeat scroll 0 0 #5393C5;\nbackground: -ms-linear-gradient(#5393C5, #6FACD5) repeat scroll 0 0 #5393C5;\nbackground: -moz-linear-gradient(#5393C5, #6FACD5) repeat scroll 0 0 #5393C5;\nbackground: -o-linear-gradient(#5393C5, #6FACD5) repeat scroll 0 0 #5393C5;\nbackground: linear-gradient(#5393C5, #6FACD5) repeat scroll 0 0 #5393C5;\n\nfilter: progid:DXImageTransform.Microsoft.Gradient(startColorstr='#5393C5', endColorstr='#6FACD5', GradientType=0)\n}\n\n.appButton {\nbackground-color:#F1F1F1;\nborder:solid 1px #BABABA;\ncolor:#000;\n}\n\n.appButton.touchLibButtonPressed {\noutline: 0 none;\nbackground-color:#F1F1F1;\nbackground: -webkit-linear-gradient(#F1F1F1, #D6D6D6) repeat scroll 0 0 #F1F1F1;\nbackground: -ms-linear-gradient(#F1F1F1, #D6D6D6) repeat scroll 0 0 #F1F1F1;\nbackground: -moz-linear-gradient(#F1F1F1, #D6D6D6) repeat scroll 0 0 #F1F1F1;\nbackground: -o-linear-gradient(#F1F1F1, #D6D6D6) repeat scroll 0 0 #F1F1F1;\nbackground: linear-gradient(#F1F1F1, #D6D6D6) repeat scroll 0 0 #F1F1F1;\n\nfilter: progid:DXImageTransform.Microsoft.Gradient(startColorstr='#F1F1F1', endColorstr='#D6D6D6', GradientType=0)\n}\n\n.appLink[disabled], .appButton[disabled]  {\nborder: solid 1px #E8E8E8;\ncursor: default;\ncolor: #B9BEC0;\nbackground: #F1F1F1;\nbackground: -webkit-linear-gradient(#F1F1F1, #F7F7F7) repeat scroll 0 0 #BABABA;\nbackground: -ms-linear-gradient(#F1F1F1, #F7F7F7) repeat scroll 0 0 #BABABA;\nbackground: -moz-linear-gradient(#F1F1F1, #F7F7F7) repeat scroll 0 0 #BABABA;\nbackground: -o-linear-gradient(#F1F1F1, #F7F7F7) repeat scroll 0 0 #BABABA;\nbackground: linear-gradient(#F1F1F1, #F7F7F7) repeat scroll 0 0 #BABABA;\n\nfilter: progid:DXImageTransform.Microsoft.Gradient(startColorstr='#F1F1F1', endColorstr='#BABABA',GradientType=0)\n}\n\n",22)}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["main",this["aria:currentLineNumber"]],_ex)}},$init:function(t){t.__$csslibs={},t.__$prefix=!0},__$initTemplate:function(){return!0}}});
//*******************
//LOGICAL-PATH:aria/touch/widgets/Button.js
//*******************
Aria.classDefinition({$classpath:"aria.touch.widgets.Button",$extends:"aria.html.Element",$dependencies:["aria.touch.widgets.ButtonCfg","aria.touch.Tap","aria.utils.ClassList"],$css:["aria.touch.widgets.ButtonCSS"],$statics:{INVALID_USAGE:"Widget %1 can only be used as a %2.",BUTTON_CLASS:"appButton",LINK_CLASS:"appLink"},$constructor:function(t,e,i){this._timerId=null,t.tagName=t.tagName||"div",t.on=t.on||{},this._timeDelay=t.delay||30,this._isLink=t.isLink,this.$cfgBean=this.$cfgBean||"aria.touch.widgets.ButtonCfg.Properties",t.attributes&&t.attributes.disabled||this._registerListeners(t),this._classList=null,this.$Element.constructor.call(this,t,e,i)},$destructor:function(){this.timerId&&(aria.core.Timer.cancelCallback(this.timerId),this.timerId=null),this._classList&&(this._classList.$dispose(),this._classList=null),this.$Element.$destructor.call(this)},$prototype:{writeMarkup:function(t){t.write("# Widget Error #"),this.$logError(this.INVALID_USAGE,["Button","container"])},initWidget:function(){this.$Element.initWidget.call(this),this._classList=new aria.utils.ClassList(this._domElt);var t=this._isLink?this.LINK_CLASS:this.BUTTON_CLASS;this._classList.add(t)},_registerListeners:function(t){var e=t.on;this._chainListener(e,"tapstart",{fn:this._manageEvents,scope:this}),this._chainListener(e,"tapcancel",{fn:this._manageEvents,scope:this}),this._chainListener(e,"tap",{fn:this._manageEvents,scope:this})},_manageEvents:function(t){"tapstart"==t.type&&(this.timerId=aria.core.Timer.addCallback({fn:this._delayedHighlightCB,scope:this,delay:this._timeDelay})),("tapcancel"==t.type||"tap"==t.type)&&(this.timerId&&(aria.core.Timer.cancelCallback(this.timerId),this.timerId=null),("tapcancel"==t.type||"tap"==t.type&&!this._isLink)&&this._classList.remove("touchLibButtonPressed"))},_delayedHighlightCB:function(){this._classList.add("touchLibButtonPressed")}}});
//*******************
//LOGICAL-PATH:aria/touch/widgets/PopupCSS.tpl.css
//*******************
Aria.classDefinition({$classpath:"aria.touch.widgets.PopupCSS",$extends:"aria.templates.CSSTemplate",$constructor:function(){this.$CSSTemplate.constructor.call(this)},$destructor:function(){this.$CSSTemplate.$destructor.call(this)},$prototype:{macro_main:function(){try{with(this)this.__$write("\n\ndiv.touchLibPopup {\nbackground: none repeat scroll 0 0 #EFF9FF;\nborder: 2px solid #999999;\nborder-radius: 32px 32px 32px 32px;\n}\n\n\n",22)}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["main",this["aria:currentLineNumber"]],_ex)}},$init:function(t){t.__$csslibs={},t.__$prefix=!0},__$initTemplate:function(){return!0}}});
//*******************
//LOGICAL-PATH:aria/touch/widgets/PopupCfgBeans.js
//*******************
Aria.beanDefinitions({$package:"aria.touch.widgets.PopupCfgBeans",$namespaces:{json:"aria.core.JsonTypes",common:"aria.widgetLibs.CommonBeans",base:"aria.html.beans.ElementCfg",dom:"aria.utils.DomBeans",templates:"aria.templates.CfgBeans",animation:"aria.utils.css.AnimationsBean",popup:"aria.popups.Beans"},$beans:{PopupCfg:{$type:"json:Object",$properties:{id:{$type:"json:String"},contentMacro:{$type:"templates:MacroCfg"},keepSection:{$type:"json:Boolean",$default:!1},modal:{$type:"json:Boolean",$default:!1},maskCssClass:{$type:"json:String"},domReference:{$type:"json:ObjectRef",$default:null},referenceId:{$type:"json:String",$default:null},absolutePosition:{$type:"popup:AbsolutePositionConfig",$default:null},center:{$type:"json:Boolean",$default:!1},maximized:{$type:"json:Boolean",$default:!1},closeOnMouseClick:{$type:"json:Boolean",$default:!0},closeOnMouseScroll:{$type:"json:Boolean",$default:!0},closeOnMouseOut:{$type:"json:Boolean",$default:!1},closeOnMouseOutDelay:{$type:"json:Integer",$default:500},preferredPositions:{$type:"json:Array",$contentType:{$type:"popup:PreferredPosition",$mandatory:!0},$default:[{}]},offset:{$type:"popup:OffsetConfig",$default:{}},ignoreClicksOn:{$type:"json:Array",$contentType:{$type:"json:ObjectRef"},$default:[{}]},parentDialog:{$type:"json:ObjectRef",$default:null},preferredWidth:{$type:"json:Integer",$default:-1},animateOut:{$type:"animation:AnimationName",$sample:"slide left"},animateIn:{$type:"animation:AnimationName",$sample:"slide left"},htmlContent:{$type:"json:String"},bind:{$type:"base:Properties.$properties.bind",$properties:{visible:{$type:"common:BindingRef"}}}}}}});
//*******************
//LOGICAL-PATH:aria/touch/widgets/Popup.js
//*******************
Aria.classDefinition({$classpath:"aria.touch.widgets.Popup",$extends:"aria.widgetLibs.BindableWidget",$css:["aria.touch.widgets.PopupCSS"],$statics:{BINDING_NEEDED:"The property '%2' from Widget %1 should be bound to a data model",CSS_CLASS:"touchLibPopup",WIDGET_CFG:"aria.touch.widgets.PopupCfgBeans.PopupCfg"},$dependencies:["aria.touch.widgets.PopupCfgBeans","aria.utils.Dom","aria.utils.Mouse","aria.utils.Json"],$constructor:function(t,e){this.$BindableWidget.constructor.apply(this,arguments),this._cfgOk=aria.core.JsonValidator.validateCfg(this.WIDGET_CFG,t),this._cfgOk&&(this._registerBindings(),this._domId=t.id?e.$getId(t.id):this._createDynamicId())},$prototype:{getId:function(){return this._cfg.id},writeMarkup:function(t){t.beginSection({id:"__popup_"+this._domId}),t.endSection()},_widgetMarkup:function(t){this._widgetMarkupBegin(t),this._widgetMarkupEnd(t)},_widgetMarkupBegin:function(t){t.beginSection({id:"__popup_"+this._domId})},_widgetMarkupEnd:function(t){t.endSection()},_writerCallback:function(t){t.write('<div class="'+this.CSS_CLASS+'">'),this._cfg.contentMacro&&t.callMacro(this._cfg.contentMacro),t.write("</div>")},initWidget:function(){this.$BindableWidget.initWidget.call(this);var t=this._cfg.bind,e=!1;if(t.visible){var i=this._transform(t.visible.transform,t.visible.inside[t.visible.to],"toWidget");i===!0&&this.show(),e=!0}e||this.$logWarn(this.BINDING_NEEDED,[this.$class,"visible"])},_notifyDataChange:function(t,e){"visible"===e&&(t.newValue?this.show():this._popup.close())},show:function(){var t=this._cfg,e={section:"__popup_"+this._domId,writerCallback:{fn:this._writerCallback,scope:this}},i=this._context.getRefreshedSection(e),s=new aria.popups.Popup;this._popup=s,s.$on({onAfterClose:this.disposePopup,scope:this}),null===t.domReference&&null===t.referenceId&&null===t.absolutePosition&&t.center===!1&&(t.absolutePosition={top:0,left:0});var a=null;t.domReference?a=t.domReference:t.referenceId&&(a=aria.utils.Dom.getElementById(this._context.$getId(t.referenceId))),s.open({section:i,keepSection:!0,modal:t.modal,maskCssClass:t.maskCssClass,domReference:a,absolutePosition:t.absolutePosition,center:t.center,maximized:t.maximized,closeOnMouseClick:t.closeOnMouseClick,closeOnMouseScroll:t.closeOnMouseScroll,closeOnMouseOut:t.closeOnMouseOut,closeOnMouseOutDelay:t.closeOnMouseOutDelay,preferredPositions:t.preferredPositions,offset:t.offset,ignoreClicksOn:t.ignoreClicksOn,parentDialog:t.parentDialog,preferredWidth:t.preferredWidth,animateOut:t.animateOut,animateIn:t.animateIn})},disposePopup:function(){this._popup&&(this._popup.$dispose(),this._popup=null),this._resetVisible()},_resetVisible:function(){var t=this._bindingListeners.visible;if(t){var e=this._transform(t.transform,!1,"fromWidget");aria.utils.Json.setValue(t.inside,t.to,e,t.cb)}}}});
//*******************
//LOGICAL-PATH:aria/touch/widgets/DialogCSS.tpl.css
//*******************
Aria.classDefinition({$classpath:"aria.touch.widgets.DialogCSS",$extends:"aria.templates.CSSTemplate",$constructor:function(){this.$CSSTemplate.constructor.call(this)},$destructor:function(){this.$CSSTemplate.$destructor.call(this)},$prototype:{macro_main:function(){try{with(this)this.__$write("\n\ndiv.touchLibDialog {\nbackground: none repeat scroll 0 0 #EFF9FF;\nborder: 2px solid #999999;\nborder-radius: 32px 32px 32px 32px;\n}\n\n\n",22)}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["main",this["aria:currentLineNumber"]],_ex)}},$init:function(t){t.__$csslibs={},t.__$prefix=!0},__$initTemplate:function(){return!0}}});
//*******************
//LOGICAL-PATH:aria/touch/widgets/DialogCfgBeans.js
//*******************
Aria.beanDefinitions({$package:"aria.touch.widgets.DialogCfgBeans",$namespaces:{common:"aria.widgetLibs.CommonBeans",popupWidget:"aria.touch.widgets.PopupCfgBeans"},$beans:{DialogCfg:{$type:"popupWidget:PopupCfg",$properties:{bind:{$type:"popupWidget:PopupCfg.$properties.bind",$properties:{isVisible:{$type:"common:BindingRef"}}}}}}});
//*******************
//LOGICAL-PATH:aria/touch/widgets/Dialog.js
//*******************
Aria.classDefinition({$classpath:"aria.touch.widgets.Dialog",$extends:"aria.touch.widgets.Popup",$css:["aria.touch.widgets.DialogCSS"],$statics:{CSS_CLASS:"touchLibDialog",WIDGET_CFG:"aria.touch.widgets.DialogCfgBeans.DialogCfg"},$dependencies:["aria.touch.widgets.DialogCfgBeans"],$constructor:function(){this.$Popup.constructor.apply(this,arguments),this.$logWarn("aria.touch.widgets.Dialog has been deprecated, please use aria.touch.widgets.Popup")},$prototype:{initWidget:function(){this.$BindableWidget.initWidget.call(this);var t=this._cfg.bind,e=!1;if(t.isVisible){var i=this._transform(t.isVisible.transform,t.isVisible.inside[t.isVisible.to],"toWidget");i===!0&&(this.$logWarn("isVisible has been deprecated, please use visible instead"),this.show()),e=!0}if(t.visible){var s=this._transform(t.visible.transform,t.visible.inside[t.visible.to],"toWidget");s===!0&&this.show(),e=!0}e||this.$logWarn(this.BINDING_NEEDED,[this.$class,"visible"])},_notifyDataChange:function(t,e){("visible"===e||"isVisible"===e)&&(t.newValue?this.show():this._popup.close())},_resetVisible:function(){var t=this._bindingListeners.visible;if(t){var e=this._transform(t.transform,!1,"fromWidget");aria.utils.Json.setValue(t.inside,t.to,e,t.cb)}var i=this._bindingListeners.isVisible;if(i){var e=this._transform(i.transform,!1,"fromWidget");aria.utils.Json.setValue(i.inside,i.to,e,i.cb)}}}});
//*******************
//LOGICAL-PATH:aria/touch/widgets/DoubleSliderCSS.tpl.css
//*******************
Aria.classDefinition({$classpath:"aria.touch.widgets.DoubleSliderCSS",$extends:"aria.templates.CSSTemplate",$constructor:function(){this.$CSSTemplate.constructor.call(this)},$destructor:function(){this.$CSSTemplate.$destructor.call(this)},$prototype:{macro_main:function(){try{with(this)this.__$write("\n\n.touchLibDoubleSlider {\nbackground: none repeat scroll 0 0 #EFF9FF;\nborder: 2px solid #999999;\nborder-radius: 1.5em;\nheight: 17px;\n}\n.touchLibDoubleSlider span {\nposition: absolute;\n}\n.touchLibDoubleSlider  > .touchContainer > .sliderButton {\nbackground: none repeat scroll 0 0 #ffffff;\nborder: 2px solid #4776A7;\nborder-radius: 32px 32px 32px 32px;\nwidth: 14px;\n}\n.touchLibDoubleSlider  > .touchContainer > .firstPoint {\nborder: 2px solid #4776A7;\nbackground-color:#4776A7;\nborder-radius: 1.5em 2px 2px 1.5em;\nwidth: 15px;\nheight: 24px;\nz-index: 3;\nmargin: 0;\n}\n.touchLibDoubleSlider > .touchContainer > .secondPoint {\nborder: 2px solid #4776A7;\nbackground-color: #4776A7;\nborder-radius: 2px 1.5em 1.5em 2px;\nwidth: 15px;\nheight: 24px;\nz-index: 3;\nmargin: 0;\n}\n.touchLibDoubleSlider > .touchContainer {\nz-index: 2;\nheight: 28px;\nmargin: -6px 0 0 0;\n}\n.touchLibDoubleSlider > .touchContainer > .sliderHighLight {\nz-index: 1;\nheight: 17px;\nwidth: 0px;\nbackground-color: #E3E3E3;\nmargin: 6px 0 0;\n}\n\n",22)}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["main",this["aria:currentLineNumber"]],_ex)}},$init:function(t){t.__$csslibs={},t.__$prefix=!0},__$initTemplate:function(){return!0}}});
//*******************
//LOGICAL-PATH:aria/touch/widgets/SliderCfgBeans.js
//*******************
Aria.beanDefinitions({$package:"aria.touch.widgets.SliderCfgBeans",$namespaces:{json:"aria.core.JsonTypes",common:"aria.widgetLibs.CommonBeans"},$beans:{SliderCfg:{$type:"json:Object",$properties:{id:{$type:"json:String"},width:{$type:"json:Integer",$default:100},toggleSwitch:{$type:"json:Boolean",$default:!1},tapToMove:{$type:"json:Boolean",$default:!1},tapToToggle:{$type:"json:Boolean"},switchThreshold:{$type:"json:Float",$default:.5},onLabel:{$type:"json:String",$default:"ON"},offLabel:{$type:"json:String",$default:"OFF"},bindValue:{$type:"json:Object",$properties:{inside:{$type:"json:ObjectRef",$mandatory:!0},to:{$type:"json:String",$mandatory:!0}}},bind:{$type:"json:Object",$properties:{value:{$type:"json:Object",$properties:{inside:{$type:"json:ObjectRef",$mandatory:!0},to:{$type:"json:String",$mandatory:!0}}}}}}},DoubleSliderCfg:{$type:"json:Object",$properties:{id:{$type:"json:String"},width:{$type:"json:Integer",$default:100},bind:{$type:"json:Object",$properties:{value:{$type:"json:Object",$properties:{inside:{$type:"json:ObjectRef",$mandatory:!0},to:{$type:"json:String",$mandatory:!0}}}}},onchange:{$type:"common:Callback"}}}}});
//*******************
//LOGICAL-PATH:aria/touch/widgets/DoubleSlider.js
//*******************
Aria.classDefinition({$classpath:"aria.touch.widgets.DoubleSlider",$extends:"aria.widgetLibs.BaseWidget",$css:["aria.touch.widgets.DoubleSliderCSS"],$statics:{INVALID_CONFIGURATION:"Invalid configuration for the slider!"},$dependencies:["aria.touch.widgets.SliderCfgBeans","aria.utils.Dom","aria.utils.Type","aria.utils.Mouse","aria.utils.Html"],$constructor:function(t,e){if(this.$BaseWidget.constructor.apply(this,arguments),this._cfgOk=aria.core.JsonValidator.validateCfg("aria.touch.widgets.SliderCfgBeans.DoubleSliderCfg",t),this._cfgOk){this._firstWidth=0,this._secondWidth=0,this._railWidth=0,this.value=[0,0],this._oldValue=[0,0],this._readValue(),this._firstSlider=null,this._secondSlider=null,this._domElt=null,this._highlight=null,this._geometry=null,this._initialDrag=0;var i=this._cfg.bind?this._cfg.bind.value:null;this._binding=i,i&&(this._bindingCallback={fn:this._notifyDataChange,scope:this},aria.utils.Json.addListener(i.inside,i.to,this._bindingCallback,!1)),this._savedX1=0,this._savedX2=0,this._domId=t.id?e.$getId(t.id):this._createDynamicId(),this._firstDomId=this._domId+"_first",this._secondDomId=this._domId+"_second",this._draggable=[]}},$destructor:function(){if(this._binding){var t=this._binding;aria.utils.Json.removeListener(t.inside,t.to,this._bindingCallback,!1),this._bindingCallback=null}if(this._draggable)for(var e=0,i=this._draggable.length;i>e;e++)this._draggable[e].$dispose();this._draggable=null,this._firstSlider=null,this._secondSlider=null,this._domElt=null,this.$BaseWidget.$destructor.call(this)},$prototype:{getId:function(){return this._cfg.id},getDom:function(){return this._domElt.parentNode},writeMarkup:function(t){if(!this._cfgOk)return this.initWidget=Aria.empty,t.write(this.INVALID_CONFIGURATION);var e=this._cfg;e.attributes=e.attributes||{},e.attributes.classList=e.attributes.classList||[],e.attributes.classList.push("touchLibDoubleSlider"),t.write(["<div ",aria.utils.Html.buildAttributeList(e.attributes),'" style="width:',this._cfg.width,'px;">','<span class="touchContainer" style="width:',e.width,'px;" id="',this._domId,'">','<span id="',this._secondDomId,'" class="sliderButton secondPoint" style="left:0px;"></span>','<span id="',this._firstDomId,'" class="sliderButton firstPoint" style="left:0px;"></span>','<span class="sliderHighLight" id="',this._domId+"_highlight",'"></span>',"</span></div>"].join(""))},initWidget:function(){this._readValue(),this._firstSlider=aria.utils.Dom.getElementById(this._firstDomId),this._secondSlider=aria.utils.Dom.getElementById(this._secondDomId),this._domElt=aria.utils.Dom.getElementById(this._domId),this._highlight=aria.utils.Dom.getElementById(this._domId+"_highlight"),this._firstWidth=parseInt(aria.utils.Dom.getStyle(this._firstSlider,"width"),10),this._secondWidth=parseInt(aria.utils.Dom.getStyle(this._secondSlider,"width"),10),this._secondWidth+=parseInt(aria.utils.Dom.getStyle(this._secondSlider,"borderLeftWidth"),10)||0,this._secondWidth+=parseInt(aria.utils.Dom.getStyle(this._secondSlider,"borderRightWidth"),10)||0,this._railWidth=this._cfg.width-this._firstWidth-this._secondWidth,this._geometry=aria.utils.Dom.getGeometry(this._domElt),this._setLeft(),this._updateDisplay(),aria.core.Browser.isIE&&(this.getDom().onselectstart=Aria.returnFalse),this._loadAndCreateDraggable()},_readValue:function(){var t,e=this._binding;e&&(t=e.inside[e.to],aria.utils.Type.isArray(t)&&(this.value[0]=Math.max(0,Math.min(t[0],t[1],1)),this.value[1]=Math.min(1,Math.max(t[0],t[1],0))),aria.utils.Json.setValue(e.inside,e.to,this.value,this._bindingCallback))},_setLeft:function(){var t=Math.max(0,Math.min(this.value[0],this.value[1],1)),e=Math.min(1,Math.max(this.value[0],this.value[1],0));this._savedX1=Math.floor(t*this._railWidth),this._savedX2=Math.ceil(e*this._railWidth+this._firstWidth)},_updateDisplay:function(){this._firstSlider.style.left=this._savedX1+"px",this._secondSlider.style.left=this._savedX2+"px",this._updateHighlight()},_updateHighlight:function(){var t=this._savedX1+this._firstWidth/2,e=this._savedX2+this._secondWidth/2-t;this._highlight.style.left=t+"px",this._highlight.style.width=e+"px"},_notifyDataChange:function(){this._readValue(),this._setLeft(),this._updateDisplay()},_loadAndCreateDraggable:function(){aria.utils.dragdrop&&aria.utils.dragdrop.Drag?this._createSliderDrag():Aria.load({classes:["aria.utils.dragdrop.Drag"],oncomplete:{fn:this._createSliderDrag,scope:this}})},_createSliderDrag:function(){if(this._cfg)for(var t=[this._firstSlider,this._secondSlider],e=0,i=t.length;i>e;e++)this._draggable[e]=new aria.utils.dragdrop.Drag(t[e],{handle:t[e],proxy:null,axis:"x",constrainTo:this._domElt}),this._draggable[e].$on({dragstart:{fn:this._onDragStart,scope:this},move:{fn:this._onDragMove,scope:this},dragend:{fn:this._onDragEnd,scope:this}})},_onDragStart:function(t){this._oldValue=[this.value[0],this.value[1]],this._initialDrag=t.src.posX},_onDragMove:function(t){this._move(t.src)},_onDragEnd:function(t){this._move(t.src),this._initialDrag=null,(this._oldValue[0]!==this.value[0]||this._oldValue[1]!==this.value[1])&&this._cfg.onchange&&this._context.evalCallback(this._cfg.onchange)},_move:function(t){var e=t.posX-this._initialDrag;if(t.id===this._firstDomId){var i=this._savedX2-this._firstWidth;this._savedX1+e>=i?this._savedX1=i:(this._savedX1+=e,this._initialDrag=t.posX)}else{var i=this._savedX1+this._firstWidth;i>=this._savedX2+e?this._savedX2=i:(this._savedX2+=e,this._initialDrag=t.posX)}this._updateHighlight(),this._setValue()},_setValue:function(){var t=this._savedX1,e=this._savedX2,i=Math.max(t/this._railWidth,0),s=Math.min((e-this._firstWidth)/this._railWidth,1);if(this.value[0]!==i||this.value[1]!==s){this.value=[i,s];var a=this._binding;aria.utils.Json.setValue(a.inside,a.to,this.value)}else this._notifyDataChange()}}});
//*******************
//LOGICAL-PATH:aria/touch/widgets/SliderCSS.tpl.css
//*******************
Aria.classDefinition({$classpath:"aria.touch.widgets.SliderCSS",$extends:"aria.templates.CSSTemplate",$constructor:function(){this.$CSSTemplate.constructor.call(this)},$destructor:function(){this.$CSSTemplate.$destructor.call(this)},$prototype:{macro_main:function(){try{with(this)this.__$write("\n\n.touchLibSlider {\nbackground: none repeat scroll 0 0 #EFF9FF;\nborder: 2px solid #999999;\nborder-radius: 32px 32px 32px 32px;\nheight: 17px;\n}\n\n.touchLibSlider span {\nposition: absolute;\n}\n\n.touchLibSlider > .touchContainer > .touchLibSwitchOn, .touchLibSlider > .touchContainer > .touchLibSwitchOff{\nposition: absolute;\nborder-radius: 32px 32px 32px 32px;\nz-index: 1;\nheight: 17px;\nfont: normal 700 16px/17px arial,helvetica;\noverflow: hidden;\ntext-align: center;\ncursor: default;\n-moz-user-select: none;\n-webkit-user-select: none;\n-ms-user-select: none;\nuser-select: none;\n}\n.touchLibSlider > .touchContainer > .touchLibSwitchOn{\nbackground-color: #61A0CD;\ncolor: #fff;\n}\n\n.touchLibSlider > .touchContainer > .touchLibSwitchOff{\nbackground-color: #DADADA;\ncolor: #000;\n}\n\n\n.touchLibSlider > .touchContainer {\nposition: absolute;\nheight: 18px;\n}\n\n.touchLibSlider > .touchContainer > .sliderButton {\nbackground: none repeat scroll 0 0 #fff;\nborder: 2px solid #4776A7;\nborder-radius: 32px 32px 32px 32px;\nwidth: 14px;\nheight: 14px;\nz-index: 2;\n}\n\n.touchLibSlider  > .touchContainer > .sliderHighLight {\nz-index: 1;\nheight: 17px;\nwidth: 0px;\nbackground-color: #E3E3E3;\nborder-radius: 32px 0 0 32px;\n}\n\n",22)}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["main",this["aria:currentLineNumber"]],_ex)}},$init:function(t){t.__$csslibs={},t.__$prefix=!0},__$initTemplate:function(){return!0}}});
//*******************
//LOGICAL-PATH:aria/touch/widgets/Slider.js
//*******************
Aria.classDefinition({$classpath:"aria.touch.widgets.Slider",$extends:"aria.widgetLibs.BaseWidget",$css:["aria.touch.widgets.SliderCSS"],$statics:{BINDVALUE_DEPRECATED:"Binding value through 'bindValue : {...}' is deprecated, please use 'bind : value : {..} syntax.",INVALID_CONFIGURATION:"Invalid configuration for the slider!"},$dependencies:["aria.touch.widgets.SliderCfgBeans","aria.utils.Dom","aria.touch.Tap","aria.utils.Html"],$constructor:function(t,e){if(this.$BaseWidget.constructor.apply(this,arguments),this._cfgOk=aria.core.JsonValidator.validateCfg("aria.touch.widgets.SliderCfgBeans.SliderCfg",t),this._cfgOk){this._value=0,this._readValue(),this._domId=t.id?e.$getId(t.id):this._createDynamicId(),this._highlightDomId=this._domId+"_highlight",this._parentDomId=this._domId+"_parent",this._onSwitchId=this._domId+"_on",this._offSwitchId=this._domId+"_off",this._isSwitch=t.toggleSwitch,this._switchThreshold=null!=t.switchThreshold?Math.min(1,Math.max(0,t.switchThreshold)):.5,this._onLabel=t.onLabel||"ON",this._offLabel=t.offLabel||"OFF",this._onContainer=null,this._offContainer=null,this._slider=null,this._highlight=null,this._sliderContainer=null,this._sliderWidth=null,this._sliderDimension=null,this._railWidth=null,this._savedX=null,this._initialDrag=null,this._delegateId=null;var i=this._cfg.bind?this._cfg.bind.value:null;!i&&this._cfg.bindValue&&(this.$logWarn(this.BINDVALUE_DEPRECATED),i=this._cfg.bindValue),this._binding=i,i&&(this._bindingCallback={fn:this._notifyDataChange,scope:this,args:!0},aria.utils.Json.addListener(i.inside,i.to,this._bindingCallback,!1)),this._draggable=null}},$destructor:function(){if(this._delegateId&&(aria.utils.Delegate.remove(this._delegateId),this._delegateId=null),this._bindingCallback){var t=this._binding;aria.utils.Json.removeListener(t.inside,t.to,this._bindingCallback,!1),this._bindingCallback=null}this._draggable&&(this._draggable.$dispose(),this._draggable=null),this._slider=null,this._highlight=null,this._sliderContainer=null,this._onContainer=null,this._offContainer=null,this._sliderDimension=null,this.$BaseWidget.$destructor.call(this)},$prototype:{getId:function(){return this._cfg.id},getDom:function(){return this._sliderContainer},writeMarkup:function(t){if(!this._cfgOk)return this.initWidget=Aria.empty,t.write(this.INVALID_CONFIGURATION);var e="",i=this._cfg;(i.tapToMove||i.tapToToggle&&this._isSwitch)&&(this._delegateId=aria.utils.Delegate.add({fn:this.delegate,scope:this}),e=aria.utils.Delegate.getMarkup(this._delegateId)),i.attributes=i.attributes||{},i.attributes.classList=i.attributes.classList||[],i.attributes.classList.push("touchLibSlider"),t.write(["<div ",aria.utils.Html.buildAttributeList(i.attributes),'" style="width:',this._cfg.width,'px;" ',e,">",'<span class="touchContainer" style="width:',this._cfg.width,'px;" id="',this._parentDomId,'">','<span id="',this._domId,'" class="sliderButton" style="left:0px;"></span>'].join("")),this._isSwitch?t.write(['<div style="left:0px;width:',this._cfg.width,'px;" class="touchLibSwitchOn" id="',this._onSwitchId,'">',this._onLabel,"</div>",'<div style="left:0px;width:0px;" class="touchLibSwitchOff" id="',this._offSwitchId,'">',this._offLabel,"</div>"].join("")):t.write(['<span class="sliderHighLight" id="',this._highlightDomId,'"></span>'].join("")),t.write("</span></div>")},initWidget:function(){this._readValue();var t=aria.utils.Dom;this._slider=t.getElementById(this._domId),this._highlight=t.getElementById(this._highlightDomId),this._sliderContainer=t.getElementById(this._parentDomId),this._sliderDimension=aria.utils.Dom.getGeometry(this._sliderContainer),this._sliderWidth=parseInt(t.getStyle(this._slider,"width"),10),this._sliderWidth+=parseInt(aria.utils.Dom.getStyle(this._slider,"borderLeftWidth"),10)||0,this._sliderWidth+=parseInt(aria.utils.Dom.getStyle(this._slider,"borderRightWidth"),10)||0,this._railWidth=this._cfg.width-this._sliderWidth,this._isSwitch&&(this._onContainer=t.getElementById(this._onSwitchId),this._offContainer=t.getElementById(this._offSwitchId),this._updateSwitch()),this._setLeftPosition(),this._updateDisplay(),this._loadAndCreateDraggable()},_setLeftPosition:function(){var t=this._value;this._savedX=Math.floor(t*this._railWidth)},_updateSwitch:function(){var t=this._value;t>=this._switchThreshold?(this._onContainer.style.width=this._cfg.width+"px",this._onContainer.style.left="0px",this._offContainer.style.width="0px",this._value=1):(this._offContainer.style.width=this._cfg.width+"px",this._offContainer.style.left="0px",this._onContainer.style.width="0px",this._value=0),t!==this._value&&this._storeValue()},_loadAndCreateDraggable:function(){aria.utils.dragdrop&&aria.utils.dragdrop.Drag?this._createSliderDrag():Aria.load({classes:["aria.utils.dragdrop.Drag"],oncomplete:{fn:this._createSliderDrag,scope:this}})},_createSliderDrag:function(){this._cfg&&(this._draggable=new aria.utils.dragdrop.Drag(this._slider,{handle:this._slider,proxy:null,axis:"x",constrainTo:this._sliderContainer}),this._draggable.$on({dragstart:{fn:this._onDragStart,scope:this},move:{fn:this._onDragMove,scope:this},dragend:{fn:this._onDragEnd,scope:this}}))},_onDragStart:function(t){this._initialDrag=t.src.posX},_onDragMove:function(t){this._move(t.src)},_onDragEnd:function(t){this._move(t.src),this._initialDrag=null,this._isSwitch&&this._changeSwith()},_changeSwith:function(){this._updateSwitch(),this._setLeftPosition(),this._updateDisplay(),this._storeValue(this._value)},_storeValue:function(){var t=this._binding;t&&aria.utils.Json.setValue(t.inside,t.to,this._value,this._bindingCallback)},_move:function(t){var e=t.posX-this._initialDrag;this._savedX+=e,this._initialDrag=t.posX,this._setValue(),this._isSwitch?this._switchDisplay():this._updateHighlight()},_switchDisplay:function(){var t=this._slider.offsetLeft;this._onContainer.style.width=this._sliderWidth+t+"px",this._offContainer.style.left=t+"px",this._offContainer.style.width=this._cfg.width-t+"px"},_setValue:function(){var t=this._savedX,e=Math.max(t/this._railWidth,0);e!==this._value?(this._value=e,this._storeValue()):this._notifyDataChange()},_readValue:function(t){var e,i=this._binding;i&&(e=i.inside[i.to],null==e&&(e=0),0>e&&(e=0),e>1&&(e=1),this._isSwitch&&t&&(e=e>=this._switchThreshold?1:0),this._value=e,this._storeValue())},_notifyDataChange:function(t,e){this._readValue(e),this._setLeftPosition(),this._updateDisplay()},_updateDisplay:function(){this._slider&&(this._slider.style.left=this._savedX+"px",this._isSwitch?this._switchDisplay():this._updateHighlight())},_updateHighlight:function(){this._highlight.style.width=this._savedX+this._sliderWidth/2+"px"},delegate:function(t){if("tap"===t.type){var e=this._cfg;if(!e)return!0;(e.tapToToggle||e.tapToMove)&&this._isSwitch?this._value=this._value>=this._switchThreshold?0:1:e.tapToMove&&(this._savedX=t.detail.currentX-this._sliderDimension.x-this._sliderWidth/2,this._savedX=this._savedX>this._railWidth?this._railWidth:this._savedX,this._value=Math.max(this._savedX/this._railWidth,0)),this._storeValue(),this._setLeftPosition(),this._updateDisplay()}}}});
//*******************
//LOGICAL-PATH:aria/touch/widgets/TouchWidgetLib.js
//*******************
Aria.classDefinition({$classpath:"aria.touch.widgets.TouchWidgetLib",$extends:"aria.widgetLibs.WidgetLib",$singleton:!0,$prototype:{widgets:{Slider:"aria.touch.widgets.Slider",DoubleSlider:"aria.touch.widgets.DoubleSlider",Button:"aria.touch.widgets.Button",Dialog:"aria.touch.widgets.Dialog",Popup:"aria.touch.widgets.Popup"}}});